# Environment Configuration
# Options: development, staging, production (affects HTTPS redirect)
ENVIRONMENT=development

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=120s

# TLS/SSL Configuration (for HTTPS with wildcard certificates)
# Leave empty for HTTP mode
TLS_CERT_FILE=/path/to/certificate.crt
TLS_KEY_FILE=/path/to/private.key

# Base domain for tenant resolution (required for subdomain routing)
BASE_DOMAIN=example.com

# CORS Configuration (comma-separated origins)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# Base URL for email links (required for email service)
BASE_URL=https://example.com

# Database Configuration
# When running via docker-compose, point to service names
DB_HOST=db
DB_PORT=5432
DB_USER=postgres
# REQUIRED: Set a strong database password
DB_PASSWORD=your-secure-database-password-here
DB_NAME=saas_db
DB_SSL_MODE=disable
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=25
DB_CONN_MAX_LIFETIME=30m
DB_CONN_MAX_IDLE_TIME=5m

# JWT Configuration
# REQUIRED: Generate a strong secret (min 32 characters):
# openssl rand -base64 32
JWT_SECRET=CHANGE-ME-use-openssl-rand-base64-32-for-production
JWT_ACCESS_TTL=15m
# Refresh token TTL reduced to 24 hours for security
JWT_REFRESH_TTL=24h
SESSION_TIMEOUT=2h

# SendGrid Email Configuration
SENDGRID_API_KEY=sendgrid_api_key
FROM_EMAIL=noreply@example.com
FROM_NAME=SaaS App
COMPANY_NAME=SaaS Company

# Redis Configuration
# When running via docker-compose, point to service names
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=2
REDIS_DIAL_TIMEOUT=5s
REDIS_READ_TIMEOUT=3s
REDIS_WRITE_TIMEOUT=3s
REDIS_POOL_TIMEOUT=4s
REDIS_IDLE_TIMEOUT=5m

# Rate limiting
RATE_LIMIT_RPM=120
RATE_LIMIT_BURST=2.0
RATE_LIMIT_WINDOW=1m

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
